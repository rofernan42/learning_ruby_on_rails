<%= form_with model: comment, url: book_comments_path(comment.book), local: false do |form| %>
<%  # -local: false- precise que la requete va faire un appel en Ajax ; si true: fait une requete POST traditionnelle %>
    <h3>Add a new comment</h3>

    <% if comment.errors.any? %>
        <h2>
            <%= pluralize(comment.errors.count, I18n.t("books.errors.err")) %><%= I18n.t("comments.errors.message") %>
        </h2>
        <ul>
            <% comment.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
        </ul>
    <% end %>

    <p>
        <%= form.label :first_name %>
        <%= form.text_field :first_name %>
    </p>

    <p>
        <%= form.label :score %>
        <%= form.number_field :score, min: 1, max: 5 %>
    </p>

    <p>
        <%= form.label :description %>
        <%= form.text_area :description %>
    </p>

    <p>
        <%= form.submit %>
    </p>
<% end %>
